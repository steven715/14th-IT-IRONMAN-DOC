# 第七天: C++ 基本認識 (四)

今天就接著來看浮點數的部分吧~

## 浮點數

C++ 浮點數類別有以下幾種: float, double

沿用一下昨天的表:
| 類型名稱 | 位元組(byte) | 範圍 |
| ------------------ | ------------ | ------------------------------------------ |
| float | 4 | 3.4E +/- 38 (7 digits) |
| double | 8 | 1.7E +/- 308 (15 digits) |

C++的浮點數是使用[IEEE 754](https://zh.wikipedia.org/wiki/IEEE_754)，中文全稱 _二進位浮點數算術標準_。

下面就來簡單看一下到底有小數點的數值怎麼被表示在記憶體中。

IEEE 754 裡面有四種表示浮點數值的方式:

- 單精確度（32 位元）
- 雙精確度（64 位元）
- 延伸單精確度（43 位元以上，很少使用）
- 延伸雙精確度（79 位元以上，通常以 80 位元實做）

但ㄧ般的情境下，主要都是使用單精確度，所以以單精確度來看。

`浮點數的表示: 浮點數 (Value) = 符號位 (Sign bit) 乘以 指數偏移值 (exponent bias) 乘以 分數值 (fraction)`

符號位(sign bit): 用來判斷正負值，正數為 0，負數為 1

指數偏移值(exponent): 以單精確度的表示式來看，指數域是用 8 位元來表示，IEEE 754 標準規定的固定值為 [2 的 e - 1 次方 - 1] (e 為儲存指數的位元長度，故 e=8)，所以在單精確度中固定偏移值就是 127。

分數值(fraction): 存放小數點以下的值(2 進位)

所以處裡浮點數的時候，都是要把該數值先轉乘 2 進位制的科學表示法，以 4.5 為例子

4.5(10 進位) = 2^2 + 0.5

| float | sign bit | exponent  | fraction                     |
| ----- | -------- | --------- | ---------------------------- |
| 0.0   | 0        | 0000 0000 | 000 0000 0000 0000 0000 0000 |

## 參考資料

[IT 鐵人賽前輩文章](https://ithelp.ithome.com.tw/articles/10266532)
[IEEE 浮點數詳解](https://www.796t.com/content/1549993149.html)
